{% extends 'base.html' %}
{% load widget_tweaks %}
{% block body %}
    <!-- COMMON INFO -->
    <form action="{% url "venues.views.update_restaurant" restaurant.pk %}" method="POST">
        {% csrf_token %}
        <div class="row">
            <div class="col-md-8">
                {% if restaurant.is_closed %}
                    <div class="alert alert-danger" role="alert">CLOSED</div>
                {% endif %}
                <h1>
                    <div class="input-group input-group-lg">
                        <div class="input-group-addon">
                            Name
                        </div>
                        {{ form.name|add_class:'form-control' }}
                        <div class="input-group-btn">
                            <button class="btn btn-success" type="submit">
                                <span class="glyphicon glyphicon-save"></span>
                            </button>
                        </div>
                    </div>
                </h1>

                <h4>
                    <div class="input-group">
                        <div class="input-group-addon">
                            cuisine
                        </div>
                        {{ form.cuisine|add_class:'form-control' }}
                    </div>
                </h4>

                <h4>
                    <div class="input-group">
                        <div class="input-group-addon">
                            eating options
                        </div>
                        {{ form.eatingOptions|add_class:'form-control' }}
                    </div>
                </h4>

                <h4>
                    <div class="input-group">
                        <div class="input-group-addon">
                            address
                        </div>
                        {{ form.address|add_class:'form-control' }}
                    </div>
                </h4>

                <div class="row">
                    <div class="col-md-8">
                        <div class="input-group">
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-earphone"></span>
                            </div>
                            {{ form.phone|add_class:'form-control' }}
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group">
                            <div class="input-group-addon">served</div>
                            {{ form.closed_reports_count|add_class:'form-control' }}
                        </div>
                    </div>
                </div>
                <div class="r-categories">
                    {{ form.categories }}
                </div>
                {#                <select multiple name="categories">#}
                {#                    {% for category in categories %}#}
                {#                        <option value="{{ category.pk }}">{{ category.name }}</option>#}
                {#                    {% endfor %}#}
                {#                </select>#}
            </div>
            <!-- GOOGLE MAP -->
            <div class="col-md-4">
                <div id="r-map" style="width: 100%; height: 300px"></div>

            </div>
            <!-- END GOOGLE MAP -->
        </div>
    </form>
    <!-- ENDCOMMON INFO -->


    <div class="row">
        <div class="col-md-12">
            {% for comment in comments %}
                <li>{{ comment.text }}</li>
            {% endfor %}
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            {% for note in notes %}
                <li>{{ note.text }}</li>
            {% endfor %}
        </div>
    </div>

    {#    <div class="row">#}
    {#        <div class="col-md-12">#}
    {#            {% for report in reports %}#}
    {#                <li>{{ report.text }}</li>#}
    {#            {% endfor %}#}
    {#        </div>#}
    {#    </div>#}

    <!-- google-maps scripts -->
    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script>
        var mapCanvas = document.getElementById('r-map');
        var mapOptions = {
            center: new google.maps.LatLng({{restaurant.location.y}}, {{restaurant.location.x}}),
            zoom: 18,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(mapCanvas, mapOptions);
    </script>

    {#    {{ restaurant.yelp_id }}#}
    {#    {{ restaurant.yelp_url }}#}
    {#    {{ restaurant.foursquare_id }}#}
    {#    {{ restaurant.foursquare_url }}#}

{% endblock %}